<div class="helper-details-container" *ngIf="helper; else noHelper">
  <div class="profile-header">
    <div class="profile-card">
      <ng-container *ngIf="helper.photoUrl; else initialsBlock">
        <img [src]="helper.photoUrl" alt="Profile Photo" class="profile-img" />
      </ng-container>
      <ng-template #initialsBlock>
        <div class="profile-img initials-avatar">
          {{ getInitials(helper.name) }}
        </div>
      </ng-template>
      <div class="profile-info">
        <h2 class="profile-name">{{ helper.name }}</h2>
        <p class="profile-role">{{ helper.role }}</p>
      </div>
      <div class="edit-buttons">
        <a [routerLink]="['/editHelper', helper._id]">
          <button type="button" class="edit-btn">
            <lucide-icon [name]="pencil"></lucide-icon>
          </button>
        </a>
        <button type="button" class="trash-btn" (click)="trashHelper()">
          <lucide-icon [name]="trash"></lucide-icon>
        </button>
      </div>
    </div>
  </div>

  <div class="section">
    <div class="title">
      <h4>EMPLOYEE ID</h4>
      <span class="line"></span>
    </div>
    <div class="info-flex">
      <div class="info-item">
        <p class="label">Employee code</p>
        <p class="value emp">{{helper.empCode}}</p>
      </div>
    </div>
  </div>
  <div class="section">
    <div class="title">
      <h4>PERSONAL DETAILS</h4>
      <span class="line"></span>
    </div>
    <div class="info-flex">
      <div class="info-item">
        <p class="label">Gender</p>
        <p class="value">{{ helper.gender }}</p>
      </div>
      <div class="info-item">
        <p class="label">Language(s)</p>
        <p class="value">{{ helper.languages?.join(', ') }}</p>
      </div>
      <div class="info-item">
        <p class="label">Mobile no</p>
        <p class="value">{{ helper.phone }}</p>
      </div>
      <div class="info-item">
        <p class="label">Email</p>
        <p class="value">{{ helper.email || '-' }}</p>
      </div>
      <div class="info-item">
        <p class="label">KYC Document</p>
        <div class="viewdoc">
          <button class="view-button" (click)="openDoc()">
            <lucide-icon [name]="eye"></lucide-icon>&nbsp;&nbsp;view
          </button>
        </div>
      </div>

    </div>
  </div>

  <div class="section">
    <div class="title">
      <h4>SERVICE DETAILS</h4>
      <span class="line"></span>
    </div>
    <div class="info-flex">
      <div class="info-item">
        <p class="label">Type</p>
        <p class="value">{{ helper.role }}</p>
      </div>
      <div class="info-item">
        <p class="label">Organization</p>
        <p class="value">{{ helper.organization }}</p>
      </div>
      <div class="info-item">
        <p class="label">Joined on</p>
        <p class="value">{{ helper.createdAt | date: 'dd-MM-yyyy' }}</p>
      </div>
    </div>
  </div>
</div>

<ng-template #noHelper>
  <p>No helper selected.</p>
</ng-template>